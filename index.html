<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EcoRetrofit24 Portal â€¢ Professional Energy Retrofit Management</title>
  <meta name="description" content="Complete energy retrofit management platform with APVA automation, project tracking, client portal, and AI insights." />
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ===== Professional Base Styles ===== */
    * { 
      box-sizing: border-box; 
      margin: 0; 
      padding: 0; 
    }
    
    body { 
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: #fafbfc;
      color: #2c3e50;
      line-height: 1.5;
      font-size: 14px;
      font-weight: 400;
    }
    
    #root { 
      min-height: 100vh; 
      display: flex;
      flex-direction: column;
    }

    /* ===== Professional Header ===== */
    .header {
      background: #ffffff;
      border-bottom: 1px solid #e1e8ed;
      box-shadow: 0 1px 3px rgba(0,0,0,0.04);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 32px;
      max-width: 1440px;
      margin: 0 auto;
    }

    .logo-section {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .logo {
      width: 40px;
      height: 40px;
      background: #1a365d;
      color: white;
      border-radius: 6px;
      display: grid;
      place-items: center;
      font-weight: 600;
      font-size: 16px;
      letter-spacing: -0.5px;
    }

    .brand {
      display: flex;
      flex-direction: column;
    }

    .brand-title {
      font-size: 20px;
      font-weight: 600;
      color: #1a365d;
      letter-spacing: -0.3px;
      margin-bottom: -2px;
    }

    .brand-sub {
      font-size: 12px;
      color: #718096;
      font-weight: 400;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .header-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 16px;
      border: 1px solid #e2e8f0;
      background: white;
      color: #4a5568;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
      text-decoration: none;
    }

    .header-btn:hover {
      background: #f7fafc;
      border-color: #cbd5e0;
    }

    .user-menu {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 12px;
      border: 1px solid #e2e8f0;
      background: white;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .user-menu:hover {
      background: #f7fafc;
      border-color: #cbd5e0;
    }

    .user-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #1a365d;
      color: white;
      display: grid;
      place-items: center;
      font-weight: 500;
      font-size: 13px;
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-weight: 500;
      font-size: 13px;
      color: #2d3748;
    }

    .user-role {
      font-size: 11px;
      color: #718096;
    }

    /* ===== Professional Navigation ===== */
    .nav-container {
      background: #f8fafc;
      border-bottom: 1px solid #e2e8f0;
    }

    .nav-tabs {
      display: flex;
      max-width: 1440px;
      margin: 0 auto;
      padding: 0 32px;
      overflow-x: auto;
    }

    .nav-tab {
      padding: 16px 24px;
      cursor: pointer;
      transition: all 0.15s ease;
      font-weight: 500;
      font-size: 13px;
      white-space: nowrap;
      border-bottom: 2px solid transparent;
      color: #4a5568;
      position: relative;
    }

    .nav-tab:hover {
      color: #2d3748;
      background: rgba(26, 54, 93, 0.04);
    }

    .nav-tab.active {
      color: #1a365d;
      border-bottom-color: #1a365d;
      background: white;
      font-weight: 600;
    }

    .nav-tab.ai-tab {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.08), rgba(167, 139, 250, 0.08));
      color: #553c9a;
    }

    .nav-tab.ai-tab.active {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.12), rgba(167, 139, 250, 0.12));
      border-bottom-color: #553c9a;
    }

    /* ===== Professional Layout ===== */
    .main-content {
      flex: 1;
      padding: 32px;
      max-width: 1440px;
      margin: 0 auto;
      width: 100%;
    }

    .page-header {
      margin-bottom: 32px;
    }

    .page-title {
      font-size: 24px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 4px;
      letter-spacing: -0.3px;
    }

    .page-subtitle {
      font-size: 14px;
      color: #718096;
      font-weight: 400;
    }

    .grid-1 { display: grid; grid-template-columns: 1fr; gap: 24px; }
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
    .grid-3 { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 24px; }
    .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }

    /* ===== Professional Cards ===== */
    .card {
      background: #ffffff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.15s ease;
    }

    .card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      border-color: #cbd5e0;
    }

    .card-header {
      padding: 20px 24px;
      border-bottom: 1px solid #f1f5f9;
      background: #fafbfc;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 2px;
      letter-spacing: -0.2px;
    }

    .card-subtitle {
      font-size: 13px;
      color: #718096;
      font-weight: 400;
    }

    .card-body {
      padding: 24px;
    }

    .card-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    /* ===== Professional Buttons ===== */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      border-radius: 6px;
      font-weight: 500;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s ease;
      border: 1px solid transparent;
      text-decoration: none;
      line-height: 1;
    }

    .btn-primary {
      background: #1a365d;
      color: white;
      border-color: #1a365d;
    }

    .btn-primary:hover {
      background: #2c5282;
      border-color: #2c5282;
    }

    .btn-secondary {
      background: white;
      color: #4a5568;
      border-color: #e2e8f0;
    }

    .btn-secondary:hover {
      background: #f7fafc;
      border-color: #cbd5e0;
    }

    .btn-outline {
      background: transparent;
      color: #1a365d;
      border-color: #1a365d;
    }

    .btn-outline:hover {
      background: #1a365d;
      color: white;
    }

    .btn-ai {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
    }

    .btn-ai:hover {
      background: linear-gradient(135deg, #5a67d8, #6b46c1);
    }

    .btn-sm {
      padding: 6px 12px;
      font-size: 12px;
    }

    .btn-lg {
      padding: 12px 20px;
      font-size: 14px;
    }

    /* ===== Professional Forms ===== */
    .form-section {
      margin-bottom: 32px;
    }

    .form-section-title {
      font-size: 16px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #e2e8f0;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: #2d3748;
      margin-bottom: 6px;
    }

    .input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      font-size: 13px;
      transition: all 0.15s ease;
      font-family: inherit;
      background: white;
    }

    .input:focus {
      outline: none;
      border-color: #1a365d;
      box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
    }

    .textarea {
      min-height: 100px;
      resize: vertical;
    }

    .select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 10px center;
      background-repeat: no-repeat;
      background-size: 14px;
      padding-right: 36px;
    }

    .error {
      color: #e53e3e;
      font-size: 12px;
      margin-top: 4px;
      font-weight: 400;
    }

    /* ===== Professional Metrics ===== */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .metric-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      transition: all 0.15s ease;
    }

    .metric-card:hover {
      border-color: #cbd5e0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }

    .metric-value {
      font-size: 28px;
      font-weight: 700;
      color: #1a365d;
      margin-bottom: 4px;
      letter-spacing: -0.5px;
    }

    .metric-label {
      font-size: 13px;
      color: #718096;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .metric-change {
      font-size: 11px;
      margin-top: 6px;
      padding: 2px 6px;
      border-radius: 12px;
      font-weight: 500;
      display: inline-block;
    }

    .metric-change.positive {
      background: #f0fff4;
      color: #22543d;
    }

    .metric-change.negative {
      background: #fed7d7;
      color: #c53030;
    }

    /* ===== Professional Tables ===== */
    .table-container {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      overflow: hidden;
    }

    .table {
      width: 100%;
      border-collapse: collapse;
    }

    .table th {
      background: #f8fafc;
      padding: 12px 16px;
      text-align: left;
      font-size: 12px;
      font-weight: 600;
      color: #4a5568;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #e2e8f0;
    }

    .table td {
      padding: 16px;
      border-bottom: 1px solid #f1f5f9;
      font-size: 13px;
      color: #2d3748;
    }

    .table tr:hover {
      background: #fafbfc;
    }

    /* ===== Professional Project Cards ===== */
    .project-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
    }

    .project-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .project-card:hover {
      border-color: #1a365d;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .project-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
    }

    .project-title {
      font-weight: 600;
      font-size: 15px;
      color: #1a202c;
      margin-bottom: 4px;
      letter-spacing: -0.1px;
    }

    .project-address {
      font-size: 13px;
      color: #718096;
    }

    .project-status {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .status-intake { background: #fef5e7; color: #744210; }
    .status-audit { background: #e6f3ff; color: #1e3a8a; }
    .status-proposal { background: #f0f4ff; color: #3730a3; }
    .status-install { background: #fff7ed; color: #9a3412; }
    .status-qc { background: #f0fdf4; color: #166534; }
    .status-complete { background: #ecfdf5; color: #14532d; }

    .progress-section {
      margin-top: 16px;
    }

    .progress-bar {
      width: 100%;
      height: 6px;
      background: #f1f5f9;
      border-radius: 3px;
      overflow: hidden;
      margin-bottom: 8px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #1a365d, #2c5282);
      transition: width 0.3s ease;
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
      color: #718096;
    }

    /* ===== Professional Kanban ===== */
    .kanban-board {
      display: grid;
      grid-template-columns: repeat(6, minmax(280px, 1fr));
      gap: 20px;
      overflow-x: auto;
      padding: 8px 0;
    }

    .kanban-column {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 16px;
      min-height: 400px;
    }

    .kanban-header {
      font-weight: 600;
      font-size: 13px;
      color: #1a365d;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e2e8f0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .kanban-count {
      background: #1a365d;
      color: white;
      padding: 2px 6px;
      border-radius: 10px;
      font-size: 11px;
      font-weight: 500;
    }

    /* ===== Professional AI Section ===== */
    .ai-section {
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(167, 139, 250, 0.05));
      border: 1px solid rgba(102, 126, 234, 0.15);
      border-radius: 8px;
      padding: 24px;
    }

    .ai-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }

    .ai-title-section {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .ai-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 6px;
      display: grid;
      place-items: center;
      font-size: 16px;
    }

    .ai-title {
      font-size: 18px;
      font-weight: 600;
      color: #553c9a;
      letter-spacing: -0.2px;
    }

    /* ===== Professional Client Portal ===== */
    .client-dashboard {
      background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 32px;
      margin-bottom: 32px;
    }

    .client-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .client-welcome {
      font-size: 24px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 8px;
      letter-spacing: -0.3px;
    }

    .client-subtitle {
      color: #718096;
      font-size: 14px;
    }

    /* ===== Professional Document Grid ===== */
    .document-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 16px;
    }

    .document-card {
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 16px;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .document-card:hover {
      border-color: #1a365d;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }

    .document-icon {
      width: 36px;
      height: 36px;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      display: grid;
      place-items: center;
      margin-bottom: 12px;
      font-size: 16px;
    }

    .document-title {
      font-weight: 500;
      font-size: 14px;
      color: #1a202c;
      margin-bottom: 4px;
    }

    .document-meta {
      font-size: 12px;
      color: #718096;
    }

    /* ===== Professional Responsive Design ===== */
    @media (max-width: 1200px) {
      .main-content { padding: 24px; }
      .grid-3 { grid-template-columns: 1fr 1fr; }
      .grid-4 { grid-template-columns: repeat(2, 1fr); }
      .kanban-board { grid-template-columns: repeat(3, minmax(250px, 1fr)); }
    }

    @media (max-width: 768px) {
      .header-top { padding: 16px 20px; }
      .nav-tabs { padding: 0 20px; }
      .main-content { padding: 20px; }
      .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
      .kanban-board { grid-template-columns: 1fr; }
      .form-grid { grid-template-columns: 1fr; }
      .metrics-grid { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 480px) {
      .header-top { padding: 12px 16px; }
      .nav-tabs { padding: 0 16px; }
      .main-content { padding: 16px; }
      .metrics-grid { grid-template-columns: 1fr; }
      .project-grid { grid-template-columns: 1fr; }
    }

    /* ===== Professional Animations ===== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    /* ===== Professional Utilities ===== */
    .text-center { text-align: center; }
    .text-right { text-align: right; }
    .mb-4 { margin-bottom: 16px; }
    .mb-6 { margin-bottom: 24px; }
    .mt-4 { margin-top: 16px; }
    .flex { display: flex; }
    .flex-between { display: flex; justify-content: space-between; align-items: center; }
    .flex-center { display: flex; justify-content: center; align-items: center; }
    .gap-4 { gap: 16px; }
    .w-full { width: 100%; }

    /* ===== Professional Empty States ===== */
    .empty-state {
      text-align: center;
      padding: 48px 24px;
      color: #718096;
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.6;
    }

    .empty-state-title {
      font-size: 16px;
      font-weight: 500;
      color: #4a5568;
      margin-bottom: 8px;
    }

    .empty-state-text {
      font-size: 14px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;

    // Sample Data
    const sampleProjects = [
      { id: 1, title: 'Residential Retrofit', address: '123 Oak Street, Dublin', status: 'audit', progress: 35, client: 'John Smith', value: 45000, savings: 28 },
      { id: 2, title: 'Office Building Upgrade', address: '456 Business Park, Cork', status: 'proposal', progress: 60, client: 'ABC Corp', value: 120000, savings: 35 },
      { id: 3, title: 'Apartment Complex', address: '789 Green Avenue, Galway', status: 'install', progress: 78, client: 'Property Management Ltd', value: 85000, savings: 32 },
      { id: 4, title: 'School Energy Retrofit', address: '321 Education Road, Limerick', status: 'qc', progress: 92, client: 'City Council', value: 95000, savings: 40 },
      { id: 5, title: 'Retail Store Upgrade', address: '654 Shopping Center, Waterford', status: 'complete', progress: 100, client: 'Retail Chain', value: 35000, savings: 25 },
      { id: 6, title: 'Industrial Facility', address: '987 Industrial Estate, Kilkenny', status: 'intake', progress: 15, client: 'Manufacturing Co', value: 200000, savings: 45 }
    ];

    const statusConfig = {
      intake: { label: 'Intake', class: 'status-intake' },
      audit: { label: 'Energy Audit', class: 'status-audit' },
      proposal: { label: 'Proposal', class: 'status-proposal' },
      install: { label: 'Installation', class: 'status-install' },
      qc: { label: 'Quality Check', class: 'status-qc' },
      complete: { label: 'Complete', class: 'status-complete' }
    };

    const sampleDocuments = [
      { id: 1, title: 'APVA Application Form', type: 'PDF', size: '2.4 MB', date: '2024-01-15', icon: 'ðŸ“„' },
      { id: 2, title: 'Energy Audit Report', type: 'PDF', size: '5.1 MB', date: '2024-01-12', icon: 'ðŸ“Š' },
      { id: 3, title: 'Installation Photos', type: 'ZIP', size: '12.3 MB', date: '2024-01-10', icon: 'ðŸ“¸' },
      { id: 4, title: 'Compliance Certificate', type: 'PDF', size: '1.8 MB', date: '2024-01-08', icon: 'âœ…' }
    ];

    // Components
    function MetricCard({ title, value, change, icon }) {
      return (
        <div className="metric-card">
          <div className="metric-value">{value}</div>
          <div className="metric-label">{title}</div>
          {change && (
            <div className={`metric-change ${change > 0 ? 'positive' : 'negative'}`}>
              {change > 0 ? '+' : ''}{change}%
            </div>
          )}
        </div>
      );
    }

    function ProjectCard({ project, onClick }) {
      const statusInfo = statusConfig[project.status];
      
      return (
        <div className="project-card" onClick={() => onClick && onClick(project)}>
          <div className="project-header">
            <div>
              <div className="project-title">{project.title}</div>
              <div className="project-address">{project.address}</div>
            </div>
            <div className={`project-status ${statusInfo.class}`}>
              {statusInfo.label}
            </div>
          </div>
          
          <div className="progress-section">
            <div className="progress-bar">
              <div className="progress-fill" style={{ width: `${project.progress}%` }}></div>
            </div>
            <div className="progress-text">
              <span>{project.progress}% Complete</span>
              <span>â‚¬{project.value.toLocaleString()}</span>
            </div>
          </div>
          
          <div className="flex-between mt-4">
            <span style={{ fontSize: '12px', color: '#718096' }}>Client: {project.client}</span>
            <span style={{ fontSize: '12px', color: '#1a365d', fontWeight: '500' }}>
              {project.savings}% savings
            </span>
          </div>
        </div>
      );
    }

    function DocumentCard({ document }) {
      return (
        <div className="document-card">
          <div className="document-icon">{document.icon}</div>
          <div className="document-title">{document.title}</div>
          <div className="document-meta">
            {document.type} â€¢ {document.size} â€¢ {document.date}
          </div>
        </div>
      );
    }

    function KanbanBoard({ projects }) {
      const stages = ['intake', 'audit', 'proposal', 'install', 'qc', 'complete'];
      
      return (
        <div className="kanban-board">
          {stages.map(stage => {
            const stageProjects = projects.filter(p => p.status === stage);
            const statusInfo = statusConfig[stage];
            
            return (
              <div key={stage} className="kanban-column">
                <div className="kanban-header">
                  <span>{statusInfo.label}</span>
                  <span className="kanban-count">{stageProjects.length}</span>
                </div>
                {stageProjects.map(project => (
                  <ProjectCard key={project.id} project={project} />
                ))}
              </div>
            );
          })}
        </div>
      );
    }

    // Main App Component
    function App() {
      const [activeTab, setActiveTab] = useState('Dashboard');
      const [projects, setProjects] = useState(sampleProjects);
      const [searchQuery, setSearchQuery] = useState('');
      const [selectedProject, setSelectedProject] = useState(null);
      const [auditForm, setAuditForm] = useState({
        buildingType: 'Residential',
        floorArea: '',
        yearBuilt: '',
        annualKwh: '',
        heatingType: 'Gas',
        notes: ''
      });
      const [formErrors, setFormErrors] = useState({});

      const filteredProjects = useMemo(() => {
        return projects.filter(project =>
          project.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
          project.address.toLowerCase().includes(searchQuery.toLowerCase()) ||
          project.client.toLowerCase().includes(searchQuery.toLowerCase())
        );
      }, [projects, searchQuery]);

      const projectStats = useMemo(() => {
        const total = projects.length;
        const completed = projects.filter(p => p.status === 'complete').length;
        const inProgress = projects.filter(p => p.status !== 'complete' && p.status !== 'intake').length;
        const totalValue = projects.reduce((sum, p) => sum + p.value, 0);
        const avgSavings = projects.reduce((sum, p) => sum + p.savings, 0) / projects.length;
        
        return {
          total,
          completed,
          inProgress,
          totalValue,
          avgSavings: Math.round(avgSavings)
        };
      }, [projects]);

      const validateAuditForm = () => {
        const errors = {};
        if (!auditForm.floorArea || isNaN(auditForm.floorArea) || auditForm.floorArea <= 0) {
          errors.floorArea = 'Please enter a valid floor area';
        }
        if (!auditForm.annualKwh || isNaN(auditForm.annualKwh) || auditForm.annualKwh <= 0) {
          errors.annualKwh = 'Please enter valid annual kWh usage';
        }
        if (auditForm.yearBuilt && (isNaN(auditForm.yearBuilt) || auditForm.yearBuilt < 1900 || auditForm.yearBuilt > new Date().getFullYear())) {
          errors.yearBuilt = 'Please enter a valid year';
        }
        setFormErrors(errors);
        return Object.keys(errors).length === 0;
      };

      const generateAPVA = () => {
        if (!validateAuditForm()) {
          alert('Please fix the form errors before generating APVA');
          return;
        }

        try {
          // Check if jsPDF is available - try multiple ways to access it
          let jsPDF;
          if (window.jspdf && window.jspdf.jsPDF) {
            jsPDF = window.jspdf.jsPDF;
          } else if (window.jsPDF) {
            jsPDF = window.jsPDF;
          } else {
            throw new Error('PDF library not available');
          }
          const doc = new jsPDF();
          
          // Calculate values
          const floorArea = parseFloat(auditForm.floorArea) || 150;
          const annualKwh = parseFloat(auditForm.annualKwh) || 12000;
          const solarSize = Math.max(4, Math.round(floorArea / 80));
          const estimatedCost = Math.round(floorArea * 95);
          const expectedSavings = Math.min(45, 15 + Math.round(floorArea / 200));
          const grantAmount = Math.round(estimatedCost * 0.7);
          const annualSavings = Math.round(annualKwh * 0.28 * (expectedSavings / 100));
          const paybackPeriod = Math.round((estimatedCost - grantAmount) / annualSavings);

          // Header Section
          doc.setFontSize(18);
          doc.setFont(undefined, 'bold');
          doc.text("APVA GRANT APPLICATION", 105, 20, { align: 'center' });
          
          doc.setFontSize(12);
          doc.setFont(undefined, 'normal');
          doc.text("Accelerated Capital Allowance for Energy Efficient Equipment", 105, 28, { align: 'center' });
          
          doc.setFontSize(10);
          doc.text("Generated by EcoRetrofit24 Portal", 14, 40);
          doc.text(`Application Date: ${new Date().toLocaleDateString('en-IE')}`, 14, 46);
          doc.text(`Reference: APVA-${Date.now().toString().slice(-6)}`, 14, 52);

          // Applicant Information
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("1. APPLICANT INFORMATION", 14, 65);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          doc.text("Company Name: [To be completed by applicant]", 20, 75);
          doc.text("Address: [To be completed by applicant]", 20, 81);
          doc.text("Contact Person: [To be completed by applicant]", 20, 87);
          doc.text("Phone: [To be completed by applicant]", 20, 93);
          doc.text("Email: [To be completed by applicant]", 20, 99);

          // Building Information
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("2. BUILDING INFORMATION", 14, 115);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          doc.text(`Building Type: ${auditForm.buildingType}`, 20, 125);
          doc.text(`Total Floor Area: ${floorArea} mÂ²`, 20, 131);
          doc.text(`Year of Construction: ${auditForm.yearBuilt || 'Not specified'}`, 20, 137);
          doc.text(`Current Heating System: ${auditForm.heatingType}`, 20, 143);
          doc.text(`Annual Energy Consumption: ${annualKwh.toLocaleString()} kWh`, 20, 149);
          doc.text(`Energy Intensity: ${Math.round(annualKwh / floorArea)} kWh/mÂ²`, 20, 155);

          // Proposed Energy Efficiency Measures
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("3. PROPOSED ENERGY EFFICIENCY MEASURES", 14, 170);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          let yPos = 180;
          
          doc.text(`3.1 Solar Photovoltaic System`, 20, yPos);
          yPos += 6;
          doc.text(`    â€¢ System Size: ${solarSize} kW`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Expected Annual Generation: ${Math.round(solarSize * 1100)} kWh`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Estimated Cost: â‚¬${Math.round(solarSize * 1200).toLocaleString()}`, 25, yPos);
          yPos += 10;
          
          doc.text(`3.2 Heat Pump System Upgrade`, 20, yPos);
          yPos += 6;
          doc.text(`    â€¢ Air-to-Water Heat Pump Installation`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Capacity: ${Math.round(floorArea / 10)} kW`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Estimated Cost: â‚¬${Math.round(floorArea * 45).toLocaleString()}`, 25, yPos);
          yPos += 10;
          
          doc.text(`3.3 Building Fabric Improvements`, 20, yPos);
          yPos += 6;
          doc.text(`    â€¢ Enhanced Wall Insulation`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Roof Insulation Upgrade`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ High-Performance Windows`, 25, yPos);
          yPos += 6;
          doc.text(`    â€¢ Estimated Cost: â‚¬${Math.round(floorArea * 25).toLocaleString()}`, 25, yPos);

          // Add new page for financial information
          doc.addPage();
          
          // Financial Analysis
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("4. FINANCIAL ANALYSIS", 14, 20);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          yPos = 30;
          
          doc.text("4.1 Project Costs", 20, yPos);
          yPos += 10;
          doc.text(`Solar PV System: â‚¬${Math.round(solarSize * 1200).toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Heat Pump System: â‚¬${Math.round(floorArea * 45).toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Insulation & Fabric: â‚¬${Math.round(floorArea * 25).toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Installation & Commissioning: â‚¬${Math.round(estimatedCost * 0.15).toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.setFont(undefined, 'bold');
          doc.text(`TOTAL PROJECT COST: â‚¬${estimatedCost.toLocaleString()}`, 25, yPos);
          doc.setFont(undefined, 'normal');
          yPos += 15;
          
          doc.text("4.2 Grant Funding", 20, yPos);
          yPos += 10;
          doc.text(`APVA Grant (up to 70%): â‚¬${grantAmount.toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Client Contribution: â‚¬${(estimatedCost - grantAmount).toLocaleString()}`, 25, yPos);
          yPos += 15;
          
          doc.text("4.3 Energy Savings Analysis", 20, yPos);
          yPos += 10;
          doc.text(`Current Annual Energy Cost: â‚¬${Math.round(annualKwh * 0.28).toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Expected Energy Savings: ${expectedSavings}%`, 25, yPos);
          yPos += 6;
          doc.text(`Annual Cost Savings: â‚¬${annualSavings.toLocaleString()}`, 25, yPos);
          yPos += 6;
          doc.text(`Simple Payback Period: ${paybackPeriod} years`, 25, yPos);
          yPos += 6;
          doc.text(`25-Year Net Savings: â‚¬${Math.round(annualSavings * 25 - (estimatedCost - grantAmount)).toLocaleString()}`, 25, yPos);

          // Environmental Impact
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("5. ENVIRONMENTAL IMPACT", 14, yPos + 20);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          yPos += 30;
          const co2Reduction = Math.round(annualKwh * (expectedSavings / 100) * 0.233);
          doc.text(`Annual COâ‚‚ Reduction: ${co2Reduction} kg`, 20, yPos);
          yPos += 6;
          doc.text(`25-Year COâ‚‚ Reduction: ${(co2Reduction * 25 / 1000).toFixed(1)} tonnes`, 20, yPos);
          yPos += 6;
          doc.text(`Renewable Energy Generation: ${Math.round(solarSize * 1100).toLocaleString()} kWh/year`, 20, yPos);

          // Technical Specifications
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("6. TECHNICAL SPECIFICATIONS", 14, yPos + 20);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          yPos += 30;
          doc.text("6.1 Equipment Specifications", 20, yPos);
          yPos += 10;
          doc.text("â€¢ Solar panels: Tier 1 monocrystalline, 25-year warranty", 25, yPos);
          yPos += 6;
          doc.text("â€¢ Inverter: String inverter with 10-year warranty", 25, yPos);
          yPos += 6;
          doc.text("â€¢ Heat pump: A+++ rated air-to-water system", 25, yPos);
          yPos += 6;
          doc.text("â€¢ Insulation: High-performance materials meeting building regulations", 25, yPos);
          yPos += 15;
          
          doc.text("6.2 Installation Standards", 20, yPos);
          yPos += 10;
          doc.text("â€¢ All work to be carried out by certified installers", 25, yPos);
          yPos += 6;
          doc.text("â€¢ Compliance with IS EN standards", 25, yPos);
          yPos += 6;
          doc.text("â€¢ Full commissioning and performance testing", 25, yPos);

          // Add new page for declarations
          doc.addPage();
          
          // Declarations and Signatures
          doc.setFontSize(14);
          doc.setFont(undefined, 'bold');
          doc.text("7. DECLARATIONS AND SIGNATURES", 14, 20);
          
          doc.setFontSize(10);
          doc.setFont(undefined, 'normal');
          yPos = 35;
          
          doc.text("I/We hereby declare that:", 20, yPos);
          yPos += 10;
          doc.text("â€¢ The information provided in this application is true and accurate", 25, yPos);
          yPos += 6;
          doc.text("â€¢ The proposed equipment meets APVA eligibility criteria", 25, yPos);
          yPos += 6;
          doc.text("â€¢ The equipment will be used for business purposes", 25, yPos);
          yPos += 6;
          doc.text("â€¢ We understand the terms and conditions of the APVA scheme", 25, yPos);
          yPos += 20;
          
          doc.text("Applicant Signature: _________________________ Date: _____________", 20, yPos);
          yPos += 15;
          doc.text("Print Name: _________________________", 20, yPos);
          yPos += 30;
          
          doc.text("Professional Advisor (EcoRetrofit24):", 20, yPos);
          yPos += 10;
          doc.text("Waqar Lund, Founder & CEO", 20, yPos);
          yPos += 6;
          doc.text("EcoRetrofit24 Limited", 20, yPos);
          yPos += 6;
          doc.text("Email: tebaiwaqar@gmail.com", 20, yPos);
          yPos += 6;
          doc.text("Phone: +923002096549", 20, yPos);
          yPos += 15;
          
          doc.text("Advisor Signature: _________________________ Date: _____________", 20, yPos);

          // Footer on each page
          const pageCount = doc.internal.getNumberOfPages();
          for (let i = 1; i <= pageCount; i++) {
            doc.setPage(i);
            doc.setFontSize(8);
            doc.text(`APVA Application - Page ${i} of ${pageCount}`, 105, 285, { align: 'center' });
            doc.text("Generated by EcoRetrofit24 Portal - Professional Energy Retrofit Management", 105, 290, { align: 'center' });
          }

          // Save the PDF
          const fileName = `APVA-Application-${auditForm.buildingType}-${Date.now().toString().slice(-6)}.pdf`;
          doc.save(fileName);
          
          alert('âœ… APVA application PDF generated successfully!\n\nThe document includes:\nâ€¢ Complete building information\nâ€¢ Detailed energy efficiency measures\nâ€¢ Financial analysis and projections\nâ€¢ Environmental impact assessment\nâ€¢ Technical specifications\nâ€¢ Declaration forms');
          
        } catch (error) {
          console.error('PDF generation error:', error);
          alert('âš ï¸ PDF generation failed. Please ensure:\nâ€¢ Your browser allows downloads\nâ€¢ JavaScript is enabled\nâ€¢ Try refreshing the page and try again');
        }
      };

      const tabs = [
        'Dashboard',
        'Projects',
        'Energy Audit',
        'APVA Generator',
        'Client Portal',
        'Documents',
        'Reports',
        'AI Insights'
      ];

      return (
        <div>
          {/* Header */}
          <header className="header">
            <div className="header-top">
              <div className="logo-section">
                <div className="logo">E</div>
                <div className="brand">
                  <div className="brand-title">EcoRetrofit24</div>
                  <div className="brand-sub">Professional Energy Retrofit Portal</div>
                </div>
              </div>
              
              <div className="header-actions">
                <button className="header-btn">
                  Export Data
                </button>
                <button className="header-btn">
                  Settings
                </button>
                <div className="user-menu">
                  <div className="user-avatar">WL</div>
                  <div className="user-info">
                    <div className="user-name">Waqar Lund</div>
                    <div className="user-role">Founder & CEO</div>
                  </div>
                </div>
              </div>
            </div>

            <div className="nav-container">
              <nav className="nav-tabs">
                {tabs.map(tab => (
                  <div
                    key={tab}
                    className={`nav-tab ${activeTab === tab ? 'active' : ''} ${tab === 'AI Insights' ? 'ai-tab' : ''}`}
                    onClick={() => setActiveTab(tab)}
                  >
                    {tab}
                  </div>
                ))}
              </nav>
            </div>
          </header>

          {/* Main Content */}
          <main className="main-content">
            {activeTab === 'Dashboard' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Dashboard</div>
                  <div className="page-subtitle">Overview of your energy retrofit portfolio and key performance metrics</div>
                </div>

                <div className="metrics-grid">
                  <MetricCard title="Active Projects" value={projectStats.total} change={12} />
                  <MetricCard title="Completed Projects" value={projectStats.completed} change={8} />
                  <MetricCard title="Portfolio Value" value={`â‚¬${Math.round(projectStats.totalValue / 1000)}K`} change={15} />
                  <MetricCard title="Avg Energy Savings" value={`${projectStats.avgSavings}%`} change={3} />
                </div>

                <div className="grid-2">
                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Recent Projects</div>
                        <div className="card-subtitle">Latest project updates and status</div>
                      </div>
                      <div className="card-actions">
                        <button className="btn btn-secondary btn-sm">View All</button>
                      </div>
                    </div>
                    <div className="card-body">
                      <div className="project-grid">
                        {projects.slice(0, 4).map(project => (
                          <ProjectCard key={project.id} project={project} />
                        ))}
                      </div>
                    </div>
                  </div>

                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Performance Analytics</div>
                        <div className="card-subtitle">Key performance indicators and trends</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <div className="empty-state">
                        <div className="empty-state-icon">ðŸ“Š</div>
                        <div className="empty-state-title">Analytics Dashboard</div>
                        <div className="empty-state-text">
                          Monthly savings, completion rates, and ROI trends will be displayed here
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'Projects' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Project Management</div>
                  <div className="page-subtitle">Track and manage your energy retrofit projects through the complete lifecycle</div>
                </div>

                <div className="card">
                  <div className="card-header">
                    <div>
                      <div className="card-title">Project Pipeline</div>
                      <div className="card-subtitle">Kanban view of all active projects</div>
                    </div>
                    <div className="card-actions">
                      <input
                        type="text"
                        placeholder="Search projects..."
                        className="input"
                        style={{ width: '300px' }}
                        value={searchQuery}
                        onChange={(e) => setSearchQuery(e.target.value)}
                      />
                      <button className="btn btn-primary">New Project</button>
                    </div>
                  </div>
                  <div className="card-body">
                    <KanbanBoard projects={filteredProjects} />
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'Energy Audit' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Energy Audit</div>
                  <div className="page-subtitle">Comprehensive building energy assessment and analysis</div>
                </div>

                <div className="grid-2">
                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Building Assessment</div>
                        <div className="card-subtitle">Enter building details for energy analysis</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <form onSubmit={(e) => e.preventDefault()}>
                        <div className="form-section">
                          <div className="form-section-title">Basic Information</div>
                          <div className="form-grid">
                            <div className="form-group">
                              <label className="label">Building Type</label>
                              <select
                                className="input select"
                                value={auditForm.buildingType}
                                onChange={(e) => setAuditForm({...auditForm, buildingType: e.target.value})}
                              >
                                <option value="Residential">Residential</option>
                                <option value="Commercial">Commercial</option>
                                <option value="Industrial">Industrial</option>
                                <option value="Mixed Use">Mixed Use</option>
                              </select>
                            </div>

                            <div className="form-group">
                              <label className="label">Year Built</label>
                              <input
                                type="number"
                                className="input"
                                placeholder="e.g. 1995"
                                value={auditForm.yearBuilt}
                                onChange={(e) => setAuditForm({...auditForm, yearBuilt: e.target.value})}
                              />
                              {formErrors.yearBuilt && <div className="error">{formErrors.yearBuilt}</div>}
                            </div>
                          </div>
                        </div>

                        <div className="form-section">
                          <div className="form-section-title">Energy Data</div>
                          <div className="form-grid">
                            <div className="form-group">
                              <label className="label">Floor Area (mÂ²)</label>
                              <input
                                type="number"
                                className="input"
                                placeholder="e.g. 150"
                                value={auditForm.floorArea}
                                onChange={(e) => setAuditForm({...auditForm, floorArea: e.target.value})}
                              />
                              {formErrors.floorArea && <div className="error">{formErrors.floorArea}</div>}
                            </div>

                            <div className="form-group">
                              <label className="label">Annual kWh Usage</label>
                              <input
                                type="number"
                                className="input"
                                placeholder="e.g. 12000"
                                value={auditForm.annualKwh}
                                onChange={(e) => setAuditForm({...auditForm, annualKwh: e.target.value})}
                              />
                              {formErrors.annualKwh && <div className="error">{formErrors.annualKwh}</div>}
                            </div>
                          </div>
                        </div>

                        <div className="form-section">
                          <div className="form-section-title">Heating System</div>
                          <div className="form-group">
                            <label className="label">Primary Heating Type</label>
                            <select
                              className="input select"
                              value={auditForm.heatingType}
                              onChange={(e) => setAuditForm({...auditForm, heatingType: e.target.value})}
                            >
                              <option value="Gas">Natural Gas</option>
                              <option value="Oil">Oil</option>
                              <option value="Electric">Electric</option>
                              <option value="Heat Pump">Heat Pump</option>
                              <option value="District">District Heating</option>
                            </select>
                          </div>
                        </div>

                        <div className="form-section">
                          <div className="form-group">
                            <label className="label">Additional Notes</label>
                            <textarea
                              className="input textarea"
                              placeholder="Any additional building details or requirements..."
                              value={auditForm.notes}
                              onChange={(e) => setAuditForm({...auditForm, notes: e.target.value})}
                            />
                          </div>
                        </div>

                        <button type="button" className="btn btn-primary btn-lg w-full">
                          Save Audit Data
                        </button>
                      </form>
                    </div>
                  </div>

                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Energy Analysis</div>
                        <div className="card-subtitle">Automated assessment and recommendations</div>
                      </div>
                    </div>
                    <div className="card-body">
                      {auditForm.floorArea && auditForm.annualKwh ? (
                        <div>
                          <div className="metrics-grid mb-6">
                            <MetricCard 
                              title="Energy Intensity" 
                              value={`${Math.round(auditForm.annualKwh / auditForm.floorArea)}`} 
                            />
                            <MetricCard 
                              title="Annual Cost" 
                              value={`â‚¬${Math.round(auditForm.annualKwh * 0.28)}`} 
                            />
                          </div>
                          
                          <div className="form-section">
                            <div className="form-section-title">Recommended Measures</div>
                            <div style={{ display: 'grid', gap: '12px' }}>
                              {[
                                { measure: 'Solar PV System', size: `${Math.round(auditForm.floorArea / 80)} kW`, priority: 'High' },
                                { measure: 'Heat Pump Upgrade', size: 'Full system', priority: 'High' },
                                { measure: 'Enhanced Insulation', size: 'Walls & roof', priority: 'Medium' },
                                { measure: 'Smart Controls', size: 'Full building', priority: 'Medium' }
                              ].map((item, index) => (
                                <div key={index} style={{ 
                                  display: 'flex', 
                                  justify: 'space-between',
                                  alignItems: 'center',
                                  padding: '12px 16px',
                                  background: '#f8fafc',
                                  border: '1px solid #e2e8f0',
                                  borderRadius: '6px'
                                }}>
                                  <div>
                                    <div style={{ fontWeight: '500', fontSize: '13px' }}>{item.measure}</div>
                                    <div style={{ fontSize: '12px', color: '#718096' }}>{item.size}</div>
                                  </div>
                                  <div style={{ 
                                    padding: '2px 8px',
                                    borderRadius: '4px',
                                    fontSize: '11px',
                                    fontWeight: '500',
                                    background: item.priority === 'High' ? '#fef5e7' : '#f0f4ff',
                                    color: item.priority === 'High' ? '#744210' : '#3730a3'
                                  }}>
                                    {item.priority}
                                  </div>
                                </div>
                              ))}
                            </div>
                          </div>

                          <div className="metrics-grid">
                            <MetricCard 
                              title="Investment" 
                              value={`â‚¬${Math.round(auditForm.floorArea * 95).toLocaleString()}`} 
                            />
                            <MetricCard 
                              title="Savings" 
                              value={`${Math.min(45, 15 + Math.round(auditForm.floorArea / 200))}%`} 
                            />
                          </div>
                        </div>
                      ) : (
                        <div className="empty-state">
                          <div className="empty-state-icon">âš¡</div>
                          <div className="empty-state-title">Energy Analysis</div>
                          <div className="empty-state-text">Complete the building assessment form to generate energy analysis and recommendations</div>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'APVA Generator' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">APVA Application Generator</div>
                  <div className="page-subtitle">Professional APVA grant application generation with comprehensive financial analysis and compliance documentation</div>
                </div>

                {/* Professional Status Banner */}
                <div style={{
                  background: 'linear-gradient(135deg, #1a365d 0%, #2c5282 100%)',
                  color: 'white',
                  padding: '24px 32px',
                  borderRadius: '8px',
                  marginBottom: '32px',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'space-between'
                }}>
                  <div>
                    <div style={{ fontSize: '18px', fontWeight: '600', marginBottom: '4px' }}>
                      Professional APVA Application Service
                    </div>
                    <div style={{ fontSize: '14px', opacity: 0.9 }}>
                      Certified by Revenue Commissioners â€¢ Compliant with Finance Act 2008-2023 â€¢ Professional Advisory Support
                    </div>
                  </div>
                  <div style={{
                    background: 'rgba(255,255,255,0.15)',
                    padding: '12px 16px',
                    borderRadius: '6px',
                    textAlign: 'center'
                  }}>
                    <div style={{ fontSize: '20px', fontWeight: '700' }}>â‚¬2.1M+</div>
                    <div style={{ fontSize: '12px', opacity: 0.9 }}>Grants Secured</div>
                  </div>
                </div>

                <div className="grid-2">
                  {/* Enhanced Application Generator */}
                  <div className="card">
                    <div className="card-header" style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)' }}>
                      <div>
                        <div className="card-title" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                          <span style={{ fontSize: '20px' }}>ðŸ“‹</span>
                          Professional Application Generator
                        </div>
                        <div className="card-subtitle">Revenue-compliant APVA documentation with expert review</div>
                      </div>
                    </div>
                    <div className="card-body">
                      {/* Professional Process Flow */}
                      <div className="form-section">
                        <div className="form-section-title" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                          <span style={{ fontSize: '16px' }}>âš¡</span>
                          Application Process
                        </div>
                        
                        <div style={{ 
                          background: '#f8fafc', 
                          border: '1px solid #e2e8f0',
                          borderRadius: '8px',
                          padding: '20px',
                          marginBottom: '24px'
                        }}>
                          <div style={{ display: 'grid', gap: '16px' }}>
                            {[
                              { 
                                step: 1, 
                                title: 'Energy Audit Completion', 
                                desc: 'Comprehensive building assessment',
                                status: auditForm.floorArea && auditForm.annualKwh ? 'complete' : 'current',
                                icon: 'ðŸ¢'
                              },
                              { 
                                step: 2, 
                                title: 'Financial Analysis', 
                                desc: 'ROI calculations and grant optimization',
                                status: auditForm.floorArea && auditForm.annualKwh ? 'current' : 'pending',
                                icon: 'ðŸ’°'
                              },
                              { 
                                step: 3, 
                                title: 'Professional Review', 
                                desc: 'Expert validation and compliance check',
                                status: 'pending',
                                icon: 'âœ…'
                              },
                              { 
                                step: 4, 
                                title: 'Revenue Submission', 
                                desc: 'Official application submission',
                                status: 'pending',
                                icon: 'ðŸ“¤'
                              }
                            ].map((item, index) => (
                              <div key={index} style={{
                                display: 'flex',
                                alignItems: 'center',
                                gap: '16px',
                                padding: '12px 16px',
                                background: item.status === 'complete' ? '#f0fdf4' : item.status === 'current' ? '#fef3c7' : 'white',
                                border: `1px solid ${item.status === 'complete' ? '#d1fae5' : item.status === 'current' ? '#fde68a' : '#f1f5f9'}`,
                                borderRadius: '6px'
                              }}>
                                <div style={{
                                  width: '36px',
                                  height: '36px',
                                  borderRadius: '50%',
                                  background: item.status === 'complete' ? '#059669' : item.status === 'current' ? '#d97706' : '#e2e8f0',
                                  color: item.status === 'pending' ? '#718096' : 'white',
                                  display: 'grid',
                                  placeItems: 'center',
                                  fontSize: '14px',
                                  fontWeight: '600'
                                }}>
                                  {item.status === 'complete' ? 'âœ“' : item.step}
                                </div>
                                <div style={{ flex: 1 }}>
                                  <div style={{ 
                                    fontWeight: '600', 
                                    fontSize: '14px',
                                    color: '#1a202c',
                                    marginBottom: '2px',
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '6px'
                                  }}>
                                    <span>{item.icon}</span>
                                    {item.title}
                                  </div>
                                  <div style={{ fontSize: '12px', color: '#718096' }}>{item.desc}</div>
                                </div>
                                {item.status === 'complete' && (
                                  <div style={{
                                    background: '#059669',
                                    color: 'white',
                                    padding: '2px 8px',
                                    borderRadius: '12px',
                                    fontSize: '10px',
                                    fontWeight: '500',
                                    textTransform: 'uppercase'
                                  }}>
                                    Complete
                                  </div>
                                )}
                                {item.status === 'current' && (
                                  <div style={{
                                    background: '#d97706',
                                    color: 'white',
                                    padding: '2px 8px',
                                    borderRadius: '12px',
                                    fontSize: '10px',
                                    fontWeight: '500',
                                    textTransform: 'uppercase'
                                  }}>
                                    In Progress
                                  </div>
                                )}
                              </div>
                            ))}
                          </div>
                        </div>
                      </div>

                      {/* Professional Status Alert */}
                      <div style={{ 
                        background: auditForm.floorArea && auditForm.annualKwh ? 
                          'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)' : 
                          'linear-gradient(135deg, #fef5e7 0%, #fde68a 100%)',
                        border: `2px solid ${auditForm.floorArea && auditForm.annualKwh ? '#22c55e' : '#f59e0b'}`,
                        borderRadius: '8px',
                        padding: '20px',
                        marginBottom: '24px'
                      }}>
                        <div style={{ 
                          display: 'flex',
                          alignItems: 'center',
                          gap: '12px',
                          marginBottom: '12px'
                        }}>
                          <div style={{
                            width: '32px',
                            height: '32px',
                            borderRadius: '50%',
                            background: auditForm.floorArea && auditForm.annualKwh ? '#22c55e' : '#f59e0b',
                            color: 'white',
                            display: 'grid',
                            placeItems: 'center',
                            fontSize: '16px'
                          }}>
                            {auditForm.floorArea && auditForm.annualKwh ? 'âœ“' : 'âš '}
                          </div>
                          <div>
                            <div style={{ 
                              fontWeight: '600',
                              fontSize: '15px',
                              color: auditForm.floorArea && auditForm.annualKwh ? '#166534' : '#92400e'
                            }}>
                              {auditForm.floorArea && auditForm.annualKwh ? 
                                'Application Ready for Generation' : 
                                'Energy Audit Data Required'
                              }
                            </div>
                            <div style={{ 
                              fontSize: '13px',
                              color: auditForm.floorArea && auditForm.annualKwh ? '#065f46' : '#78350f',
                              lineHeight: '1.4'
                            }}>
                              {auditForm.floorArea && auditForm.annualKwh ? 
                                'All mandatory fields completed. Professional APVA application ready for generation with comprehensive financial analysis.' :
                                'Please complete the Energy Audit form with building floor area and annual energy consumption data to proceed with application generation.'
                              }
                            </div>
                          </div>
                        </div>
                      </div>

                      {/* Professional Action Buttons */}
                      <div style={{ display: 'grid', gap: '12px' }}>
                        <button 
                          className="btn btn-primary btn-lg w-full"
                          onClick={generateAPVA}
                          disabled={!auditForm.floorArea || !auditForm.annualKwh}
                          style={{ 
                            opacity: (!auditForm.floorArea || !auditForm.annualKwh) ? 0.5 : 1,
                            cursor: (!auditForm.floorArea || !auditForm.annualKwh) ? 'not-allowed' : 'pointer',
                            background: 'linear-gradient(135deg, #1a365d 0%, #2c5282 100%)',
                            border: 'none',
                            fontSize: '14px',
                            fontWeight: '600',
                            padding: '14px 20px',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            gap: '8px'
                          }}
                        >
                          <span style={{ fontSize: '16px' }}>ðŸ“„</span>
                          Generate Professional APVA Application
                        </button>
                        
                        {auditForm.floorArea && auditForm.annualKwh && (
                          <div style={{ 
                            display: 'grid', 
                            gridTemplateColumns: '1fr 1fr', 
                            gap: '12px' 
                          }}>
                            <button className="btn btn-secondary">
                              <span style={{ fontSize: '14px' }}>ðŸ“Š</span>
                              Preview Analysis
                            </button>
                            <button className="btn btn-outline">
                              <span style={{ fontSize: '14px' }}>ðŸ’¾</span>
                              Save Draft
                            </button>
                          </div>
                        )}
                      </div>
                    </div>
                  </div>

                  {/* Enhanced Application Preview */}
                  <div className="card">
                    <div className="card-header" style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)' }}>
                      <div>
                        <div className="card-title" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                          <span style={{ fontSize: '20px' }}>ðŸ“‹</span>
                          Application Preview & Analysis
                        </div>
                        <div className="card-subtitle">Comprehensive financial and technical assessment</div>
                      </div>
                    </div>
                    <div className="card-body">
                      {auditForm.floorArea && auditForm.annualKwh ? (
                        <div>
                          {/* Building Information Section */}
                          <div className="form-section">
                            <div className="form-section-title" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                              <span style={{ fontSize: '16px' }}>ðŸ¢</span>
                              Building Assessment Summary
                            </div>
                            <div style={{ 
                              background: '#f8fafc',
                              border: '1px solid #e2e8f0',
                              borderRadius: '6px',
                              padding: '16px'
                            }}>
                              <div style={{ display: 'grid', gap: '10px', fontSize: '13px' }}>
                                {[
                                  { label: 'Property Type', value: auditForm.buildingType, icon: 'ðŸ ' },
                                  { label: 'Total Floor Area', value: `${auditForm.floorArea} mÂ²`, icon: 'ðŸ“' },
                                  { label: 'Construction Year', value: auditForm.yearBuilt || 'Not specified', icon: 'ðŸ“…' },
                                  { label: 'Heating System', value: auditForm.heatingType, icon: 'ðŸ”¥' },
                                  { label: 'Annual Consumption', value: `${parseInt(auditForm.annualKwh).toLocaleString()} kWh`, icon: 'âš¡' },
                                  { label: 'Energy Intensity', value: `${Math.round(auditForm.annualKwh / auditForm.floorArea)} kWh/mÂ²`, icon: 'ðŸ“Š' }
                                ].map((item, index) => (
                                  <div key={index} style={{ 
                                    display: 'flex', 
                                    justifyContent: 'space-between',
                                    alignItems: 'center',
                                    padding: '8px 12px',
                                    background: 'white',
                                    borderRadius: '4px',
                                    border: '1px solid #f1f5f9'
                                  }}>
                                    <span style={{ 
                                      color: '#4a5568', 
                                      fontWeight: '500',
                                      display: 'flex',
                                      alignItems: 'center',
                                      gap: '6px'
                                    }}>
                                      <span>{item.icon}</span>
                                      {item.label}:
                                    </span>
                                    <span style={{ fontWeight: '600', color: '#1a202c' }}>{item.value}</span>
                                  </div>
                                ))}
                              </div>
                            </div>
                          </div>

                          {/* Financial Analysis Section */}
                          <div className="form-section">
                            <div className="form-section-title" style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                              <span style={{ fontSize: '16px' }}>ðŸ’°</span>
                              Professional Financial Analysis
                            </div>
                            
                            <div style={{ display: 'grid', gap: '16px' }}>
                              {/* Investment Overview */}
                              <div style={{
                                background: 'linear-gradient(135deg, #1a365d 0%, #2c5282 100%)',
                                color: 'white',
                                padding: '20px',
                                borderRadius: '8px'
                              }}>
                                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', textAlign: 'center' }}>
                                  <div>
                                    <div style={{ fontSize: '24px', fontWeight: '700', marginBottom: '4px' }}>
                                      â‚¬{Math.round(parseFloat(auditForm.floorArea) * 95).toLocaleString()}
                                    </div>
                                    <div style={{ fontSize: '12px', opacity: 0.9, textTransform: 'uppercase', letterSpacing: '0.5px' }}>
                                      Total Investment
                                    </div>
                                  </div>
                                  <div>
                                    <div style={{ fontSize: '24px', fontWeight: '700', marginBottom: '4px', color: '#68d391' }}>
                                      â‚¬{Math.round(parseFloat(auditForm.floorArea) * 95 * 0.7).toLocaleString()}
                                    </div>
                                    <div style={{ fontSize: '12px', opacity: 0.9, textTransform: 'uppercase', letterSpacing: '0.5px' }}>
                                      APVA Grant (70%)
                                    </div>
                                  </div>
                                </div>
                              </div>

                              {/* ROI Analysis */}
                              <div style={{
                                background: '#f0fdf4',
                                border: '1px solid #d1fae5',
                                borderRadius: '6px',
                                padding: '16px'
                              }}>
                                <div style={{ fontWeight: '600', marginBottom: '12px', color: '#166534' }}>
                                  Return on Investment Analysis
                                </div>
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '12px', textAlign: 'center' }}>
                                  <div>
                                    <div style={{ fontSize: '18px', fontWeight: '600', color: '#059669' }}>
                                      {Math.min(45, 15 + Math.round(auditForm.floorArea / 200))}%
                                    </div>
                                    <div style={{ fontSize: '11px', color: '#065f46', textTransform: 'uppercase' }}>
                                      Energy Savings
                                    </div>
                                  </div>
                                  <div>
                                    <div style={{ fontSize: '18px', fontWeight: '600', color: '#059669' }}>
                                      â‚¬{Math.round(auditForm.annualKwh * 0.28 * (Math.min(45, 15 + Math.round(auditForm.floorArea / 200)) / 100)).toLocaleString()}
                                    </div>
                                    <div style={{ fontSize: '11px', color: '#065f46', textTransform: 'uppercase' }}>
                                      Annual Savings
                                    </div>
                                  </div>
                                  <div>
                                    <div style={{ fontSize: '18px', fontWeight: '600', color: '#059669' }}>
                                      {Math.round((Math.round(parseFloat(auditForm.floorArea) * 95) - Math.round(parseFloat(auditForm.floorArea) * 95 * 0.7)) / Math.round(auditForm.annualKwh * 0.28 * (Math.min(45, 15 + Math.round(auditForm.floorArea / 200)) / 100)))} yrs
                                    </div>
                                    <div style={{ fontSize: '11px', color: '#065f46', textTransform: 'uppercase' }}>
                                      Payback Period
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          {/* Professional Certification */}
                          <div style={{
                            background: 'linear-gradient(135deg, #fef5e7 0%, #fed7aa 100%)',
                            border: '2px solid #f59e0b',
                            borderRadius: '8px',
                            padding: '16px',
                            textAlign: 'center'
                          }}>
                            <div style={{ 
                              fontSize: '16px', 
                              fontWeight: '600', 
                              color: '#92400e',
                              marginBottom: '8px',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              gap: '8px'
                            }}>
                              <span style={{ fontSize: '20px' }}>ðŸ†</span>
                              Professional Certification
                            </div>
                            <div style={{ fontSize: '13px', color: '#78350f', lineHeight: '1.4' }}>
                              This application will be professionally reviewed and certified by our Revenue-approved advisors 
                              before submission, ensuring maximum compliance and approval probability.
                            </div>
                          </div>
                        </div>
                      ) : (
                        <div className="empty-state">
                          <div className="empty-state-icon" style={{ fontSize: '64px', marginBottom: '20px' }}>ðŸ“Š</div>
                          <div className="empty-state-title" style={{ fontSize: '18px', fontWeight: '600', marginBottom: '8px' }}>
                            Professional Application Preview
                          </div>
                          <div className="empty-state-text" style={{ fontSize: '14px', lineHeight: '1.5' }}>
                            Complete the Energy Audit form to generate a comprehensive preview of your APVA application 
                            including detailed financial analysis, ROI calculations, and compliance documentation.
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'Client Portal' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Client Portal</div>
                  <div className="page-subtitle">Client-facing dashboard for project tracking and communication</div>
                </div>

                <div className="client-dashboard">
                  <div className="client-header">
                    <div className="client-welcome">Welcome to Your Project Portal</div>
                    <div className="client-subtitle">Track your energy retrofit project progress and access important documents</div>
                  </div>
                  
                  <div className="grid-3">
                    <div className="card">
                      <div className="card-header">
                        <div>
                          <div className="card-title">Your Project</div>
                          <div className="card-subtitle">Current project status</div>
                        </div>
                      </div>
                      <div className="card-body">
                        <div style={{ fontWeight: '500', marginBottom: '8px' }}>Residential Energy Retrofit</div>
                        <div style={{ fontSize: '13px', color: '#718096', marginBottom: '16px' }}>123 Oak Street, Dublin</div>
                        <div className="progress-bar">
                          <div className="progress-fill" style={{ width: '65%' }}></div>
                        </div>
                        <div style={{ fontSize: '12px', color: '#718096', marginTop: '8px' }}>65% Complete</div>
                      </div>
                    </div>

                    <div className="card">
                      <div className="card-header">
                        <div>
                          <div className="card-title">Investment Summary</div>
                          <div className="card-subtitle">Financial overview</div>
                        </div>
                      </div>
                      <div className="card-body">
                        <div className="metrics-grid">
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '18px', fontWeight: '600', color: '#1a365d' }}>â‚¬45,000</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Total Investment</div>
                          </div>
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '18px', fontWeight: '600', color: '#059669' }}>â‚¬31,500</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Grant Approved</div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="card">
                      <div className="card-header">
                        <div>
                          <div className="card-title">Expected Savings</div>
                          <div className="card-subtitle">Energy performance</div>
                        </div>
                      </div>
                      <div className="card-body">
                        <div className="metrics-grid">
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '18px', fontWeight: '600', color: '#1a365d' }}>28%</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Energy Reduction</div>
                          </div>
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '18px', fontWeight: '600', color: '#1a365d' }}>â‚¬1,200</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Annual Savings</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div className="grid-2">
                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Project Timeline</div>
                        <div className="card-subtitle">Detailed project phases and milestones</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <div style={{ display: 'grid', gap: '12px' }}>
                        {[
                          { phase: 'Initial Consultation', status: 'complete', date: 'Jan 15, 2024' },
                          { phase: 'Energy Audit', status: 'complete', date: 'Jan 22, 2024' },
                          { phase: 'Proposal & Approval', status: 'complete', date: 'Feb 5, 2024' },
                          { phase: 'Installation', status: 'current', date: 'In Progress' },
                          { phase: 'Quality Check', status: 'pending', date: 'Scheduled' },
                          { phase: 'Project Completion', status: 'pending', date: 'Pending' }
                        ].map((item, index) => (
                          <div key={index} style={{ 
                            display: 'flex', 
                            alignItems: 'center', 
                            gap: '12px',
                            padding: '12px 16px',
                            background: item.status === 'current' ? '#f0f4ff' : '#f8fafc',
                            borderRadius: '6px',
                            border: `1px solid ${item.status === 'current' ? '#3730a3' : '#e2e8f0'}`
                          }}>
                            <div style={{
                              width: '20px',
                              height: '20px',
                              borderRadius: '50%',
                              background: item.status === 'complete' ? '#059669' : item.status === 'current' ? '#3730a3' : '#e2e8f0',
                              color: item.status === 'pending' ? '#718096' : 'white',
                              display: 'grid',
                              placeItems: 'center',
                              fontSize: '10px',
                              fontWeight: '500'
                            }}>
                              {item.status === 'complete' ? 'âœ“' : index + 1}
                            </div>
                            <div style={{ flex: 1 }}>
                              <div style={{ fontWeight: '500', fontSize: '13px' }}>{item.phase}</div>
                              <div style={{ fontSize: '12px', color: '#718096' }}>{item.date}</div>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  </div>

                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Contact Your Team</div>
                        <div className="card-subtitle">Project team and support contacts</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <div style={{ display: 'grid', gap: '16px' }}>
                        <div style={{ padding: '16px', background: '#f8fafc', border: '1px solid #e2e8f0', borderRadius: '6px' }}>
                          <div style={{ fontWeight: '500', marginBottom: '4px', fontSize: '14px' }}>Waqar Lund</div>
                          <div style={{ fontSize: '12px', color: '#718096', marginBottom: '8px' }}>Founder & CEO</div>
                          <div style={{ fontSize: '12px', marginBottom: '2px' }}>tebaiwaqar@gmail.com</div>
                          <div style={{ fontSize: '12px' }}>+923002096549</div>
                        </div>
                        
                        <div style={{ padding: '16px', background: '#f8fafc', border: '1px solid #e2e8f0', borderRadius: '6px' }}>
                          <div style={{ fontWeight: '500', marginBottom: '4px', fontSize: '14px' }}>Mohammad Saleem Lund</div>
                          <div style={{ fontSize: '12px', color: '#718096', marginBottom: '8px' }}>Technical Lead</div>
                          <div style={{ fontSize: '12px', marginBottom: '2px' }}>mohammad.saleem@ecoretrofit24.ie</div>
                          <div style={{ fontSize: '12px' }}>+923002096550</div>
                        </div>

                        <button className="btn btn-primary w-full">
                          Send Message
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'Documents' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Document Management</div>
                  <div className="page-subtitle">Centralized document storage and management for all projects</div>
                </div>

                <div className="card">
                  <div className="card-header">
                    <div>
                      <div className="card-title">Project Documents</div>
                      <div className="card-subtitle">All project-related documents and files</div>
                    </div>
                    <div className="card-actions">
                      <button className="btn btn-secondary">Filter</button>
                      <button className="btn btn-primary">Upload Document</button>
                    </div>
                  </div>
                  <div className="card-body">
                    <div className="document-grid">
                      {sampleDocuments.map(doc => (
                        <DocumentCard key={doc.id} document={doc} />
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'Reports' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">Reports & Analytics</div>
                  <div className="page-subtitle">Comprehensive reporting and performance analytics</div>
                </div>

                <div className="grid-2">
                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Performance Dashboard</div>
                        <div className="card-subtitle">Key performance indicators and trends</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <div className="empty-state">
                        <div className="empty-state-icon">ðŸ“ˆ</div>
                        <div className="empty-state-title">Advanced Analytics</div>
                        <div className="empty-state-text">
                          Comprehensive reporting on energy savings, ROI, and project performance metrics
                        </div>
                      </div>
                    </div>
                  </div>

                  <div className="card">
                    <div className="card-header">
                      <div>
                        <div className="card-title">Key Metrics</div>
                        <div className="card-subtitle">Current period performance</div>
                      </div>
                    </div>
                    <div className="card-body">
                      <div className="metrics-grid">
                        <MetricCard title="Monthly Savings" value="â‚¬31K" change={15} />
                        <MetricCard title="Projects Completed" value="7" change={8} />
                        <MetricCard title="Client Satisfaction" value="96%" change={2} />
                        <MetricCard title="Average ROI" value="24mo" change={-5} />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {activeTab === 'AI Insights' && (
              <div className="fade-in">
                <div className="page-header">
                  <div className="page-title">AI Insights</div>
                  <div className="page-subtitle">Advanced analytics and predictive recommendations powered by artificial intelligence</div>
                </div>

                <div className="ai-section">
                  <div className="ai-header">
                    <div className="ai-title-section">
                      <div className="ai-icon">ðŸ¤–</div>
                      <div>
                        <div className="ai-title">AI-Powered Energy Insights</div>
                        <div style={{ fontSize: '13px', color: '#718096' }}>
                          Advanced analytics and predictive recommendations
                        </div>
                      </div>
                    </div>
                    <button className="btn btn-ai">Generate New Insights</button>
                  </div>

                  <div className="grid-2">
                    <div className="card">
                      <div className="card-header">
                        <div>
                          <div className="card-title">Smart Recommendations</div>
                          <div className="card-subtitle">AI-generated optimization opportunities</div>
                        </div>
                      </div>
                      <div className="card-body">
                        <div style={{ display: 'grid', gap: '16px' }}>
                          <div style={{ 
                            background: 'rgba(102, 126, 234, 0.05)', 
                            border: '1px solid rgba(102, 126, 234, 0.15)',
                            borderRadius: '6px',
                            padding: '16px',
                            borderLeft: '4px solid #667eea'
                          }}>
                            <div style={{ fontWeight: '500', marginBottom: '8px', fontSize: '14px' }}>
                              Solar Optimization Opportunity
                            </div>
                            <div style={{ fontSize: '13px', color: '#718096', lineHeight: '1.4' }}>
                              Based on roof analysis, 3 properties could benefit from larger solar installations, 
                              potentially increasing savings by 15-20%.
                            </div>
                          </div>
                          
                          <div style={{ 
                            background: 'rgba(102, 126, 234, 0.05)', 
                            border: '1px solid rgba(102, 126, 234, 0.15)',
                            borderRadius: '6px',
                            padding: '16px',
                            borderLeft: '4px solid #667eea'
                          }}>
                            <div style={{ fontWeight: '500', marginBottom: '8px', fontSize: '14px' }}>
                              Heat Pump Priority Projects
                            </div>
                            <div style={{ fontSize: '13px', color: '#718096', lineHeight: '1.4' }}>
                              Buildings with oil heating show 40% higher savings potential with heat pump upgrades. 
                              5 projects identified for priority conversion.
                            </div>
                          </div>
                          
                          <div style={{ 
                            background: 'rgba(102, 126, 234, 0.05)', 
                            border: '1px solid rgba(102, 126, 234, 0.15)',
                            borderRadius: '6px',
                            padding: '16px',
                            borderLeft: '4px solid #667eea'
                          }}>
                            <div style={{ fontWeight: '500', marginBottom: '8px', fontSize: '14px' }}>
                              Smart Controls Integration
                            </div>
                            <div style={{ fontSize: '13px', color: '#718096', lineHeight: '1.4' }}>
                              Adding smart energy management to current projects could increase 
                              overall efficiency by 12% with minimal additional investment.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="card">
                      <div className="card-header">
                        <div>
                          <div className="card-title">Predictive Analytics</div>
                          <div className="card-subtitle">Market trends and forecasting</div>
                        </div>
                      </div>
                      <div className="card-body">
                        <div className="metrics-grid mb-6">
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '24px', fontWeight: '600', color: '#667eea' }}>â‚¬127K</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Predicted Q2 Savings</div>
                          </div>
                          <div style={{ textAlign: 'center' }}>
                            <div style={{ fontSize: '24px', fontWeight: '600', color: '#764ba2' }}>94%</div>
                            <div style={{ fontSize: '11px', color: '#718096', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Success Probability</div>
                          </div>
                        </div>
                        
                        <div style={{ 
                          padding: '16px', 
                          background: '#f8fafc', 
                          border: '1px solid #e2e8f0',
                          borderRadius: '6px' 
                        }}>
                          <div style={{ fontWeight: '500', marginBottom: '8px', color: '#1a202c', fontSize: '14px' }}>
                            Market Trend Analysis
                          </div>
                          <div style={{ fontSize: '13px', color: '#718096', lineHeight: '1.4' }}>
                            Energy prices expected to rise 8% this quarter. Current project pipeline 
                            positioned to deliver 25% above average ROI.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </main>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97d9f903531f97a4',t:'MTc1NzYyMzE0OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
